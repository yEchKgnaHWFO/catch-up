var CatchupTracker=CatchupTracker||{};CatchupTracker.sendData=function(a){a=CatchupTracker.getImgUrl(a);a=CatchupTracker.getImage(a);return document.body.appendChild(a)};
CatchupTracker.getImgUrl=function(a){function b(a,d){var b=a.split("/"),c="";if(4<=b.length)for(var e=0;e<d;e++)if(4===b.length&&0===b[3].length){c="Web-Index";break}else if(b.length>3+e)c+=b[3+e]+"-";else break;else c="Web-Index";return c=c.split("?")[0]}function f(a){return a.toLowerCase().replace("\x3e","").replace("\x3c","").replace(";","").replace("script","").replace("alert","").replace("img","").replace("frame","").replace("input","").replace("title","").replace("body","")}var c={Android:function(){return navigator.userAgent.match(/Android/i)},
BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini|Opera Mobi/i)},Puffin:function(){return navigator.userAgent.match(/Puffin/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},Other:function(){return navigator.userAgent.match(/Mobile|Tablet/i)},any:function(){return c.Android()||c.BlackBerry()||c.iOS()||c.Opera()||c.Windows()||c.Puffin()||
c.Other()}};this.subfolderDepth=a.trackSubfolderDepth?a.trackSubfolderDepth:1;this.target=a.targetType?a.targetType:"ad";this.url=a.url?a.url:f(location.href);this.referUrl=a.referUrl?a.referUrl:f(document.referrer);this.adSrTag=function(){for(var a=location.search.substring(1).split("\x26"),b=0;b<a.length;b++){var c=a[b].split("\x3d");if("AD_SR"==c[0]||"ad_sr"==c[0])return c[1]}return""}();a.cf_uid&&(this.cf_uid=a.cf_uid);if(a.sp_variable)for(var d=a.sp_variable.split(","),e=0;e<d.length&&4>e;e++)null!=
this.info?(this.info+=",",this.info+=d[e]):this.info=d[e];this.dmpSr=a.source?a.source:location.hostname;if(50<this.dmpSr.length&&0>=this.dmpSr.length)throw d="[CatchupTracker] The length of 'DMP_SR' is invalid.",console.log(d),Error(d);this.trackType=a.trackType?a.trackType:"view";this.os=function(a){return a.match(/Windows Phone/i)?"WindowsPhone":a.match(/Android/i)?"Android":a.match(/iPhone|iPad|iPod/i)?"iOS":a.match(/Windows NT/i)?"Windows":a.match(/Macintosh/i)?"MacOS":"Others"}(navigator.userAgent);
this.browser=function(a){return void 0===a?"":a.match(/Edge|edg/i)?"Edge":a.match(/Dalvik/i)?"Android":a.match(/IEMobile/i)?"IEMobile":a.match(/msie|trident\/7/i)?"IE":a.match(/Puffin/i)?"Puffin":a.match(/Dolfin/i)?"Dolfin":a.match(/BlackBerry/i)?"BlackBerry":a.match(/uc\s?browser|\subrowser/i)?"UCBrowser":a.match(/Vivaldi/i)?"Vivaldi":a.match(/Opera|opr/i)?"Opera":a.match(/SamsungBrowser/i)?"Samsung":a.match(/\sline/i)?"Line":a.match(/FBSV|FB_IAB/i)?"Facebook":a.match(/Instagram/i)?"Instagram":a.match(/wechat|MicroMessenger.*NetType.*Language/i)?
"Wechat":a.match(/MiuiBrowser|Baidu|bidubrowser|MicroMessenger/i)||a.match(/Telegram|Slack|WhatsApp|KAKAOTALK/i)?"Others":a.match(/mobile Safari/i)&&a.match(/android/i)&&a.match(/version/i)?a.match(/chrome/i)?"Chrome":"Android":a.match(/Chrome/i)&&a.match(/Safari/i)?"Chrome":a.match(/Firefox|FxiOS/i)?"Firefox":a.match(/Opera Mini/i)?"Opera Mini":a.match(/Opera Mobi/i)?"Opera Mobi":a.match(/Chrome|CriOS/i)?"Chrome":a.match(/Safari/i)?"Safari":"Others"}(navigator.userAgent);this.platform="";c.any()?
this.platform="Mobile":this.platform="PC";this.subDomain=a.subFolder?a.subFolder:b(this.url,this.subfolderDepth);d=a="";d=this.options.trackPath;a=(d?a+d:a+"catchupreceiver?")+("\x26DMP_SR\x3d"+this.dmpSr);a+="\x26url\x3d"+encodeURIComponent(this.url)+"\x26refer_url\x3d"+encodeURIComponent(this.referUrl);a+="\x26platform\x3d"+this.platform;a+="\x26os\x3d"+this.os;a+="\x26browser\x3d"+this.browser;a+="\x26subDomain\x3d"+this.subDomain;a+="\x26info\x3d"+this.info;a+="\x26cf_uid\x3d"+this.cf_uid;""!==
this.adSrTag&&(a+="\x26adSrTag\x3d"+this.adSrTag);if(50>=this.target.length)a+="\x26target\x3d"+this.target;else throw d="[CatchupTracker] The length of 'target' is invalid.",console.log(d),Error(d);a=navigator.cookieEnabled?a+"\x26ce\x3d1":a+"\x26ce\x3d0";CatchupTracker.getFingerPrintV4&&(a="Android"===this.os||"iOS"===this.os?a+"\x26fp\x3d":a+"\x26fp2\x3d",a+=CatchupTracker.getFingerPrintV4+"\x26");return a};
CatchupTracker.getImage=function(a){var b=document.createElement("img");b.setAttribute("src",a);b.style.width="0px";b.style.height="0px";b.style.border="0px";b.style.display="none";b.setAttribute("alt","CatchupTracker");b.setAttribute("title","CatchupTracker");"function"===typeof CatchupTracker.cbfunc&&b.setAttribute("onload","CatchupTracker.cbfunc()");return b};